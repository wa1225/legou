(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3bde7e68"],{a0e7:function(e,t,o){"use strict";o("b318")},b318:function(e,t,o){},bc03:function(e,t,o){},f833:function(e,t,o){"use strict";o.r(t);var l=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-bread"),o("el-button",{attrs:{type:"primary",plain:"",size:"small"},on:{click:e.getinfo}},[e._v("添加")]),o("v-list",{on:{edit:e.edit}}),o("v-dialog",{ref:"dialogInfo",attrs:{diaInfo:e.diaInfo},on:{cancel:e.cancel}})],1)},n=[],i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"tree-props":{children:"children"},"row-key":"id","default-expand-all":"",border:""}},[o("el-table-column",{attrs:{prop:"id",label:"菜单编号",width:"80"}}),o("el-table-column",{attrs:{prop:"title",label:"菜单名称"}}),o("el-table-column",{attrs:{prop:"pid",label:"上级菜单",width:"80"}}),o("el-table-column",{attrs:{prop:"icon",label:"菜单图标"},scopedSlots:e._u([{key:"default",fn:function(e){return[o("div",[o("i",{class:e.row.icon})])]}}])}),o("el-table-column",{attrs:{prop:"url",label:"菜单地址"}}),o("el-table-column",{attrs:{label:"状态",width:"200",prop:"status"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("div",[1==t.row.status?o("el-tag",{attrs:{type:"success"}},[e._v("启用")]):o("el-tag",{attrs:{type:"danger"}},[e._v("禁用")])],1)]}}])}),o("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(o){return e.edit(t.row.id)}}},[e._v("编辑")]),o("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(o){return e.del(t.row.id)}}},[e._v("删除")])]}}])})],1)],1)},a=[],r=o("5b78"),s={data:function(){return{tableData:[]}},mounted:function(){var e=this;Object(r["r"])().then((function(t){console.log(t,"列表"),200==t.code?e.tableData=t.list:e.$message.console.error(t.msg)}))},methods:{del:function(e){var t=this;this.$confirm("你确定要删除这条数据吗？？？?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(r["l"])({id:e}).then((function(e){200==e.code?(t.$message.success(e.msg),location.reload()):t.$message.error(e.msg)}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},edit:function(e){this.$emit("edit",e)}}},c=s,u=(o("a0e7"),o("2877")),m=Object(u["a"])(c,i,a,!1,null,"7fabdbac",null),f=m.exports,d=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-dialog",{attrs:{title:e.diaInfo.isAdd?"添加":"编辑","before-close":e.cancel,visible:e.diaInfo.isShow},on:{"update:visible":function(t){return e.$set(e.diaInfo,"isShow",t)}}},[o("el-form",{ref:"menuform",attrs:{rules:e.rules,model:e.menuform}},[o("el-form-item",{attrs:{label:"菜单名称","label-width":e.formLabelWidth,prop:"title"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.menuform.title,callback:function(t){e.$set(e.menuform,"title",t)},expression:"menuform.title"}})],1),o("el-form-item",{attrs:{label:"上级菜单","label-width":e.formLabelWidth,prop:"pid"}},[o("el-select",{attrs:{placeholder:"请选择上级菜单"},model:{value:e.menuform.pid,callback:function(t){e.$set(e.menuform,"pid",t)},expression:"menuform.pid"}},[o("el-option",{attrs:{label:"顶级菜单",value:0}}),e._l(e.menulist,(function(e){return o("el-option",{key:e.id,attrs:{label:e.title,value:e.id}})}))],2)],1),o("el-form-item",{attrs:{label:"菜单类型","label-width":e.formLabelWidth}},[o("el-radio",{attrs:{label:1},model:{value:e.menuform.type,callback:function(t){e.$set(e.menuform,"type",t)},expression:"menuform.type"}},[e._v("目录")]),o("el-radio",{attrs:{label:2},model:{value:e.menuform.type,callback:function(t){e.$set(e.menuform,"type",t)},expression:"menuform.type"}},[e._v("菜单")])],1),1==e.menuform.type?o("el-form-item",{attrs:{label:"菜单图标","label-width":e.formLabelWidth,prop:"icon"}},[o("el-select",{attrs:{placeholder:"请选择图标"},model:{value:e.menuform.icon,callback:function(t){e.$set(e.menuform,"icon",t)},expression:"menuform.icon"}},e._l(e.iconlist,(function(e){return o("el-option",{key:e.id,attrs:{label:e.name,value:e.el}})})),1)],1):o("el-form-item",{attrs:{label:"菜单地址","label-width":e.formLabelWidth,prop:"url"}},[o("el-select",{attrs:{placeholder:"请选择地址"},model:{value:e.menuform.url,callback:function(t){e.$set(e.menuform,"url",t)},expression:"menuform.url"}},e._l(e.urllist,(function(e){return o("el-option",{key:e.name,attrs:{label:e.name,value:e.path}})})),1)],1),o("el-form-item",{attrs:{label:"状态","label-width":e.formLabelWidth}},[o("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-value":1,"inactive-value":2},model:{value:e.menuform.status,callback:function(t){e.$set(e.menuform,"status",t)},expression:"menuform.status"}})],1)],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:e.cancel}},[e._v("取 消")]),e.diaInfo.isAdd?o("el-button",{attrs:{type:"primary"},on:{click:e.add}},[e._v("添 加")]):o("el-button",{attrs:{type:"primary"},on:{click:e.bianji}},[e._v("编 辑")])],1)],1)],1)},p=[],b=o("a18c"),h={props:["diaInfo"],data:function(){return{value:"100",formLabelWidth:"120px",menuform:{pid:0,title:"",icon:"",type:1,url:"",status:1},menulist:[],rules:{title:[{required:!0,message:"请输入菜单名称",trigger:"blur"},{min:2,max:6,message:"长度在 2 到 6 个字符",trigger:"blur"}],pid:[{required:!0,message:"请选择上级菜单",trigger:"blur"}]},iconlist:[{id:1,name:"系统图标",el:"el-icon-s-tools"},{id:2,name:"系统透明图标",el:"el-icon-setting"},{id:3,name:"购物图标",el:"el-icon-s-goods"},{id:4,name:"购物透明图标",el:"el-icon-goods"}],urllist:b["b"]}},mounted:function(){var e=this;Object(r["r"])().then((function(t){200==t.code&&(e.menulist=t.list)}))},methods:{cancel:function(){this.$emit("cancel",!1),this.menuform={pid:0,title:"",icon:"",type:1,url:"",status:1},this.$refs.menuform.resetFields()},add:function(){var e=this;this.$refs.menuform.validate((function(t){t?(console.log(e.menuform,"菜单弹框信息"),Object(r["b"])(e.menuform).then((function(t){console.log(t,"响应"),200==t.code?(e.cancel(),e.$message.success(t.msg),location.reload()):e.$message.error(t.msg)})).catch((function(e){console.log(e,"错误拦截")}))):console.log("验证失败")}))},lookup:function(e){var t=this;Object(r["q"])({id:e}).then((function(o){console.log(o),200==o.code?(t.menuform=o.list,t.menuform.id=e):t.$message.error(o.msg)}))},bianji:function(){var e=this;this.$refs.menuform.validate((function(t){t?(console.log(e.menuform,"菜单弹框信息"),Object(r["o"])(e.menuform).then((function(t){console.log(t,"响应"),200==t.code?(e.cancel(),e.$message.success(t.msg),location.reload()):e.$message.error(t.msg)})).catch((function(e){console.log(e,"错误拦截")}))):console.log("验证失败")}))}}},g=h,v=Object(u["a"])(g,d,p,!1,null,"316d659c",null),y=v.exports,w={data:function(){return{diaInfo:{isShow:!1,isAdd:!0}}},components:{vList:f,vDialog:y},methods:{getinfo:function(){this.diaInfo.isShow=!0,this.diaInfo.isAdd=!0},cancel:function(e){this.diaInfo.isShow=e},edit:function(e){this.diaInfo.isShow=!0,this.diaInfo.isAdd=!1,console.log(this.$refs.dialogInfo),this.$refs.dialogInfo.lookup(e)}}},$=w,k=(o("f876"),Object(u["a"])($,l,n,!1,null,"81721760",null));t["default"]=k.exports},f876:function(e,t,o){"use strict";o("bc03")}}]);
//# sourceMappingURL=chunk-3bde7e68.43b7c4f5.js.map